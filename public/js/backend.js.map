{"version":3,"sources":["backend.js","countdown.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"backend.js","sourcesContent":["/**\n * Created by roman on 29.06.16.\n */\n$(document).ready(function () {\n    /**\n     * Инициализация всех тултипов\n     */\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    //$('[data-toggle=\"countdown\"]').countdown();\n});","/**\n * Created by roman on 29.06.16.\n */\n+function ($) {\n    'use strict';\n\n    var Countdown = function (element, options) {\n        this.$element = null;\n        this.inState = null;\n        this.type = null;\n        this.timeout = null;\n        this.options = null;\n        this.innerHtml = null;\n        this.timeout = null;\n\n        this.init('delete_entity', element, options);\n    }\n\n    Countdown.VERSION = '1.0.0';\n\n    Countdown.DEFAULTS = {\n        timeout: 1000,\n        time: 3,\n        trigger: 'click',\n    }\n\n    Countdown.prototype.init = function (type, element, options) {\n        this.type = type;\n        this.$element = $(element);\n        this.options = this.getOptions(options);\n        this.inState = {\n            click: false,\n        }\n\n        var triggers = this.options.trigger.split(' ');\n\n        for (var i = triggers.length; i--;) {\n            var trigger = triggers[i];\n            if (trigger == 'click') {\n                this.$element.on('click.'+ this.type, $.proxy(this.toggle, this));\n            }\n        }\n\n    }\n\n    Countdown.prototype.getDefaults = function () {\n        return Countdown.DEFAULTS;\n    }\n\n    Countdown.prototype.getOptions = function (options) {\n        options = $.extend({}, this.getDefaults(), this.$element.data(), options);\n\n        if (options.timeout && !typeof options.timeout == 'number') {\n            options.timeout = this.getDefaults().timeout;\n        }\n\n        return options;\n    }\n\n    Countdown.prototype.toggle = function() {\n        if (this.inState === null) {\n            this.inState = 'countdown';\n            this.innerHtml = this.$element.html();\n            this.$element.html(this.options.time);\n            this.timeout = setInterval(this.toggle, this.options.timeout);\n        } else {\n            if (this.inState === 'countdown') {\n                var time = 0+this.$element.text();\n                if (time > 0 ) {\n                    time--;\n                    this.$element.text(time);\n                } else {\n                    this.$element.html(this.innerHtml);\n                    this.inState = 'finish';\n                    clearInterval(this.timeout);\n                }\n            }\n\n            if (this.inState === 'finish') {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    var old = $.fn.countdown;\n\n    $.fn.countdown = Countdown;\n    $.fn.countdown.constructor = Countdown;\n\n    $.fn.countdown.noConflict = function () {\n        $.fn.countdown = old;\n        return this;\n    }\n\n}(jQuery);"],"sourceRoot":"/source/"}